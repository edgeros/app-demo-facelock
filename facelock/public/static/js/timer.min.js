/*
 * Copyright (c) 2021 EdgerOS Team.
 * All rights reserved.
 *
 * Detailed license information can be found in the LICENSE file.
 *
 * File: timer.min.js Timer module.
 *
 * Author: Han.hui <hanhui@acoinfo.com>
 *
 * Version: 0.1.0
 * 
 */
!function(){window.Timer=class{constructor(){this._new=!1,this._count=0,this._interval=0,this._args=void 0,this._handler=void 0,this._timeout=void 0}_toevent(){0!==this._count&&this._count==this._interval||(this._timeout=void 0),this._new=!1,this._handler&&this._args&&this._handler.apply(this,this._args),this._new||this._interval&&this._interval!=this._count&&(this._count=this._interval,this._timeout=setInterval(this._toevent.bind(this),this._interval))}start(t,i,e,...s){if("function"==typeof i&&(arguments.length>2&&s.unshift(e),e=i,i=0),"number"!=typeof t||"number"!=typeof i||"function"!=typeof e)throw new TypeError("Arguments error");if(t<0||i<0)throw new RangeError("Arguments error");null!=this._timeout&&(clearTimeout(this._timeout),this._timeout=void 0),this._new=!0,this._args=s,this._handler=e,this._count=t,this._interval=i,this._timeout=0===i||t!==i?setTimeout(this._toevent.bind(this),t):setInterval(this._toevent.bind(this),i)}stop(){null!=this._timeout&&(clearTimeout(this._timeout),this._timeout=void 0),this._new=!0,this._count=0,this._interval=0,this._args=void 0,this._handler=void 0}isRepeat(){return!!this._interval}interval(t){if("number"!=typeof t)throw new TypeError("Argument error");if(t<=0)throw new RangeError("Argument error");var i=this._interval;return this._interval&&(null!=this._timeout&&(clearTimeout(this._timeout),this._timeout=void 0),this._new=!0,this._count=t,this._interval=t,this._timeout=setInterval(this._toevent.bind(this),t)),i}}}();
